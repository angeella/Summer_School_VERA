E(net)$arrow.size<-.2
E(net)$edge.color<-"gray80"
set.seed(1234)
plot(net)
llMDS = layout_with_mds(net)
plot(net,layout= llMDS)
l1 <- layout_with_graphopt(net, charge=0.1)
l2 <- layout_with_graphopt(net, charge=0.00000001)
l2 <- layout_with_graphopt(net, charge=0.00000001)
par(mfrow=c(1,2), mar=c(1,1,1,1))
par(mfrow=c(1,2), mar=c(1,1,1,1))
plot(net, layout=l1)
plot(net, layout=l2)
l1 <- layout_with_graphopt(net, charge=0.001)
plot(net, layout=l1)
plot(net, layout=l2)
par(mfrow=c(1,2), mar=c(1,1,1,1))
plot(net, layout=l1)
plot(net, layout=l2)
V(net)$community <- gr$membership
colrs <- adjustcolor(sample(colors(distinct = TRUE),11), alpha=.6)
plot(net,
vertex.color=colrs[V(net)$community],
vertex.label = NA)
dist.from.Left <- distances(net, v=V(net)[aType=="Left"], to=V(net), weights=NA)
dist.from.Left
V(net)
knitr::opts_chunk$set(echo = T, fig.align = "center", out.width = '80%', warning = F, message = F)
rm(list = ls())
#load("Lab02/lab02.RData")
load("../Lab02/lab02.RData")
library(igraph)
library(ggraph)
par(mfrow = c(1,1))
plot(net)
V(net)$name[which(B_net < quantile(B_net, .99))] = NA
plot(net,
vertex.label=V(net)$name,
vertex.label.color = "black",
edge.color="grey",
vertex.color="orange",
vertex.frame.color="#ffffff",
main = "3 million Russian troll tweets")
set.seed(1234)
plot(net,
vertex.size = log(igraph::betweenness(net)+1),
vertex.color = as.numeric(factor(aType)),
vertex.label=V(net)$name,
vertex.label.color = "black",
edge.color="grey",
vertex.color="orange",
vertex.frame.color="#ffffff",
main = "3 million Russian troll tweets")
V(net)$label = V(net)$name
V(net)$label[which(B_net < quantile(B_net, .99))] = NA
V(net)$label.color = "black"
V(net)$size = log(igraph::betweenness(net)+1)
V(net)$color = as.numeric(factor(aType))
E(net)$arrow.size<-.2
E(net)$edge.color<-"gray80"
set.seed(1234)
plot(net)
llMDS = layout_with_mds(net)
plot(net,layout= llMDS)
set.seed(1)
llFR = layout_with_fr(net,niter = 5000)
plot(net,layout= llFR)
par(mfrow=c(1,2), mar=c(0,0,0,0)) # plot four figures- 1 rows, 2 columns
plot(net, layout=layout_with_fr)
plot(net, layout=llFR)
par(mfrow= c(1,1))
set.seed(1)
llKK = layout_with_kk(net,dim = 2,maxiter = 100*vcount(net))
plot(net,layout= llKK)
l <- layout_with_graphopt(net)
plot(net, layout=l)
l1 <- layout_with_graphopt(net, charge=0.001)
l2 <- layout_with_graphopt(net, charge=0.00000001)
par(mfrow=c(1,2), mar=c(1,1,1,1))
plot(net, layout=l1)
plot(net, layout=l2)
par(mfrow=c(1,1))
graph_attr(net,"layout")<-layout_with_lgl
plot(net)
layouts <- grep("layout_", ls("package:igraph"), value=TRUE)[-c(1:2)]
layouts <- layouts[grepl("attr|graphopt|with_kk|with_fr|with_mds", layouts)]
par(mfrow=c(2,2), mar=c(1,1,1,1))
for(layout in layouts){
print(layout)
l <- do.call(layout, list(net))
plot(net, edge.arrow.mode=0, layout=l, main=layout)
}
V(net)$community <- gr$membership
colrs <- adjustcolor(sample(colors(distinct = TRUE),11), alpha=.6)
plot(net,
vertex.color=colrs[V(net)$community],
vertex.label = NA)
V(net)$community <- gr$membership
colrs <- adjustcolor(sample(colors(distinct = TRUE),11), alpha=.6)
plot(net,
vertex.color=colrs[V(net)$community],
vertex.label = NA)
dist.from.Left <- distances(net, v=V(net)[aType=="Left"], to=V(net), weights=NA)
dist.from.Left
oranges<-colorRampPalette(c("darkred","gold"))
col<-oranges(max(dist.from.Left)+1)
col<-col[dist.from.Left+1]
plot(net,
vertex.color=col,
vertex.label=dist.from.Left,
vertex.label.color = "white")
dist.from.Left
V(net)[aType=="Left"]
V(net)
net
load("../Lab02/lab02.RData")
V(Net)
V(net)
par(mfrow = c(1,1))
plot(net)
V(net)$name[which(B_net < quantile(B_net, .99))] = NA
plot(net,
vertex.label=V(net)$name,
vertex.label.color = "black",
edge.color="grey",
vertex.color="orange",
vertex.frame.color="#ffffff",
main = "3 million Russian troll tweets")
V(net)$name
V(net)[aType == "Left"]
V(net)[aType == "Right"]
load("../Lab02/lab02.RData")
V(net)[aType == "Right"]
V(net)[aType == "Left"]
load("../Lab02/lab02.RData")
dist.from.Left <- distances(net, v=V(net)[aType=="Left"], to=V(net), weights=NA)
oranges<-colorRampPalette(c("darkred","gold"))
col<-oranges(max(dist.from.Left)+1)
col<-col[dist.from.Left+1]
plot(net,
vertex.color=col,
vertex.label=dist.from.Left,
vertex.label.color = "white")
plot(net,
vertex.color=col,
vertex.label=dist.from.Left)
V(net)$name[which(B_net < quantile(B_net, .99))] = NA
oranges<-colorRampPalette(c("darkred","gold"))
col<-oranges(max(dist.from.Left)+1)
col<-col[dist.from.Left+1]
plot(net,
vertex.color=col,
vertex.label=dist.from.Left)
V(net)$name
plot(net,
vertex.color=col,
vertex.label=dist.from.Left)
distances(net, v=V(net)[aType=="Left"], to=V(net), weights=NA)
dist.from.Left <- igraph::distances(net, v=V(net)[aType=="Left"], to=V(net), weights=NA)
heatmpa(dist.from.Left)
heatmap(dist.from.Left)
plot(net,
vertex.color=col,
vertex.label=dist.from.Left)
oranges<-colorRampPalette(c("darkred","gold"))
col<-oranges(max(dist.from.Left)+1)
col<-col[dist.from.Left+1]
plot(net,
vertex.color=col,
vertex.label=dist.from.Left)
dist.from.Left <- igraph::distances(net, v=V(net)[aType=="Left"], to=V(net), weights=NA)
heatmap(dist.from.Left)
oranges<-colorRampPalette(c("darkred","gold"))
col<-oranges(max(dist.from.Left)+1)
col<-col[dist.from.Left+1]
plot(net,
vertex.color=col)
plot(net,
vertex.color=col,
vertex.label.color = "white")
plot(net,
vertex.color=col,
vertex.label.color = "black")
col
oranges<-colorRampPalette(c("darkred","orange", "gold"))
col<-oranges(max(dist.from.Left)+1)
col<-col[dist.from.Left+1]
plot(net,
vertex.color=col,
vertex.label.color = "black")
length(unique(col))
oranges<-colorRampPalette(c("darkred", "red", "darkorange", "orange", "gold", "yellow"))
col<-oranges(max(dist.from.Left)+1)
col<-col[dist.from.Left+1]
length(unique(col))
plot(net,
vertex.color=col,
vertex.label.color = "black")
oranges<-colorRampPalette(c("darkred", "gold"))
col<-oranges(max(dist.from.Left)+1)
col<-col[dist.from.Left+1]
length(unique(col))
oranges
max(dist.from.Left)+1
right.path<-shortest_paths(net,
from=V(net)[aType=="Left"],
to=V(net)[aType=="Right"],
output="both")
ecol<-rep("gray80",ecount(net))
ecol[unlist(right.path$epath)]<-"orange" #color edges
ew<-rep(2,ecount(net))
ew[unlist(right.path$epath)]<-4  #size
vcol<-rep("gray40",vcount(net))
vcol[unlist(right.path$vpath)]<-"gold" #color vertices
plot(net,
vertex.color=vcol,
edge.color=ecol,
edge.width=ew,edge.arrow.mode=0)
nique(length(col))
unique(length(col))
oranges<-colorRampPalette(c("darkred", "gold"))
col<-oranges(max(dist.from.Left)+1)
col<-col[dist.from.Left+1]
unique(length(col))
knitr::opts_chunk$set(echo = T, fig.align = "center", out.width = '80%', warning = F, message = F)
rm(list = ls())
#load("Lab02/lab02.RData")
load("../Lab02/lab02.RData")
library(igraph)
library(ggraph)
par(mfrow = c(1,1))
plot(net)
knitr::opts_chunk$set(echo = T, fig.align = "center", out.width = '80%', warning = F, message = F)
rm(list = ls())
#load("Lab02/lab02.RData")
load("../Lab02/lab02.RData")
library(igraph)
library(ggraph)
par(mfrow = c(1,1))
plot(net)
knitr::opts_chunk$set(echo = T, fig.align = "center", out.width = '80%', warning = F, message = F)
rm(list = ls())
#load("Lab02/lab02.RData")
load("../Lab02/lab02.RData")
library(igraph)
library(ggraph)
par(mfrow = c(1,1))
plot(net)
V(net)$name[which(B_net < quantile(B_net, .99))] = NA
plot(net,
vertex.label=V(net)$name,
vertex.label.color = "black",
edge.color="grey",
vertex.color="orange",
vertex.frame.color="#ffffff",
main = "3 million Russian troll tweets")
set.seed(1234)
plot(net,
vertex.size = log(igraph::betweenness(net)+1),
vertex.color = as.numeric(factor(aType)),
vertex.label=V(net)$name,
vertex.label.color = "black",
edge.color="grey",
vertex.color="orange",
vertex.frame.color="#ffffff",
main = "3 million Russian troll tweets")
V(net)$label = V(net)$name
V(net)$label[which(B_net < quantile(B_net, .99))] = NA
V(net)$label.color = "black"
V(net)$size = log(igraph::betweenness(net)+1)
V(net)$color = as.numeric(factor(aType))
E(net)$arrow.size<-.2
E(net)$edge.color<-"gray80"
set.seed(1234)
plot(net)
llMDS = layout_with_mds(net)
plot(net,layout= llMDS)
set.seed(1)
llFR = layout_with_fr(net,niter = 5000)
plot(net,layout= llFR)
par(mfrow=c(1,2), mar=c(0,0,0,0)) # plot four figures- 1 rows, 2 columns
plot(net, layout=layout_with_fr)
plot(net, layout=llFR)
par(mfrow= c(1,1))
set.seed(1)
llKK = layout_with_kk(net,dim = 2,maxiter = 100*vcount(net))
plot(net,layout= llKK)
l <- layout_with_graphopt(net)
plot(net, layout=l)
l1 <- layout_with_graphopt(net, charge=0.001)
l2 <- layout_with_graphopt(net, charge=0.00000001)
par(mfrow=c(1,2), mar=c(1,1,1,1))
plot(net, layout=l1)
plot(net, layout=l2)
par(mfrow=c(1,1))
graph_attr(net,"layout")<-layout_with_lgl
plot(net)
layouts <- grep("layout_", ls("package:igraph"), value=TRUE)[-c(1:2)]
layouts <- layouts[grepl("attr|graphopt|with_kk|with_fr|with_mds", layouts)]
par(mfrow=c(2,2), mar=c(1,1,1,1))
for(layout in layouts){
print(layout)
l <- do.call(layout, list(net))
plot(net, edge.arrow.mode=0, layout=l, main=layout)
}
V(net)$community <- gr$membership
colrs <- adjustcolor(sample(colors(distinct = TRUE),11), alpha=.6)
plot(net,
vertex.color=colrs[V(net)$community],
vertex.label = NA)
unique(col)
dist.from.Left <- igraph::distances(net, v=V(net)[aType=="Left"], to=V(net), weights=NA)
oranges<-colorRampPalette(c("darkred", "gold"))
col<-oranges(max(dist.from.Left)+1)
col<-col[dist.from.Left+1]
col
unique(col)
length(unique(col))
length(unique(dist.from.Left))
ecount(net)
net
right.path$epath
right.path<-shortest_paths(net,
from=V(net)[aType=="Left"],
to=V(net)[aType=="Right"],
output="both")
right.path$epath
unlist(right.path$epath)
right.path$epath[[1]]
length(right.path$epath)
right.path<-shortest_paths(net,
from=V(net)[aType=="Left"],
to=V(net)[aType=="Right"],
output="both")
ecol<-rep("gray80",ecount(net))
ecol[unlist(right.path$epath)]<-"orange" #color edges
ew<-rep(2,ecount(net))
ew[unlist(right.path$epath)]<-4  #size
vcol<-rep("gray40",vcount(net))
vcol[unlist(right.path$vpath)]<-"gold" #color vertices
plot(net,
vertex.color=vcol,
edge.color=ecol,
edge.width=ew,edge.arrow.mode=0)
inc.edges <- incident(net, V(net)[aType=="Left"], mode="all") #mode argument ignored for undirected graphs
ecol <- rep("gray80", ecount(net))
ecol[inc.edges] <- "orange"
vcol <- rep("grey40", vcount(net))
vcol[V(net)[aType=="News"]] <- "gold"
plot(net,
vertex.color=vcol,
edge.color=ecol)
par(mfrow=c(1,2))
plot(net, mark.groups=c(1,4,5,8), mark.col="#C5E5E7", mark.border=NA)
# Mark multiple groups:
plot(net, mark.groups=list(c(1,4,5,8), c(15:17)), mark.col=c("#C5E5E7","#ECD89A"), mark.border=NA)
par(mfrow=c(1,2))
plot(net, mark.groups=c(1,4,5,8), mark.col="#C5E5E7", mark.border=NA)
# Mark multiple groups:
plot(net, mark.groups=list(c(1,4,5,8), c(15:17)), mark.col=c("#C5E5E7","#ECD89A"), mark.border=NA)
groups(net)
net
#do not run!
tkid <- tkplot(net) #tkid is the id of the tkplot that will open
l <- tkplot.getcoords(tkid) # grab the coordinates from tkplot
tkid
#do not run!
tkid <- tkplot(net) #tkid is the id of the tkplot that will open
net
#do not run!
load("../Lab02/lab02.RData")
tkid <- tkplot(net) #tkid is the id of the tkplot that will open
knitr::opts_chunk$set(echo = T, fig.align = "center", out.width = '80%', warning = F, message = F)
rm(list = ls())
#load("Lab02/lab02.RData")
load("../Lab02/lab02.RData")
library(igraph)
library(ggraph)
par(mfrow = c(1,1))
plot(net)
V(net)$name[which(B_net < quantile(B_net, .99))] = NA
plot(net,
vertex.label=V(net)$name,
vertex.label.color = "black",
edge.color="grey",
vertex.color="orange",
vertex.frame.color="#ffffff",
main = "3 million Russian troll tweets")
set.seed(1234)
plot(net,
vertex.size = log(igraph::betweenness(net)+1),
vertex.color = as.numeric(factor(aType)),
vertex.label=V(net)$name,
vertex.label.color = "black",
edge.color="grey",
vertex.color="orange",
vertex.frame.color="#ffffff",
main = "3 million Russian troll tweets")
V(net)$label = V(net)$name
V(net)$label[which(B_net < quantile(B_net, .99))] = NA
V(net)$label.color = "black"
V(net)$size = log(igraph::betweenness(net)+1)
V(net)$color = as.numeric(factor(aType))
E(net)$arrow.size<-.2
E(net)$edge.color<-"gray80"
set.seed(1234)
plot(net)
llMDS = layout_with_mds(net)
plot(net,layout= llMDS)
set.seed(1)
llFR = layout_with_fr(net,niter = 5000)
plot(net,layout= llFR)
par(mfrow=c(1,2), mar=c(0,0,0,0)) # plot four figures- 1 rows, 2 columns
plot(net, layout=layout_with_fr)
plot(net, layout=llFR)
par(mfrow= c(1,1))
set.seed(1)
llKK = layout_with_kk(net,dim = 2,maxiter = 100*vcount(net))
plot(net,layout= llKK)
l <- layout_with_graphopt(net)
plot(net, layout=l)
l1 <- layout_with_graphopt(net, charge=0.001)
l2 <- layout_with_graphopt(net, charge=0.00000001)
par(mfrow=c(1,2), mar=c(1,1,1,1))
plot(net, layout=l1)
plot(net, layout=l2)
par(mfrow=c(1,1))
graph_attr(net,"layout")<-layout_with_lgl
plot(net)
layouts <- grep("layout_", ls("package:igraph"), value=TRUE)[-c(1:2)]
layouts <- layouts[grepl("attr|graphopt|with_kk|with_fr|with_mds", layouts)]
par(mfrow=c(2,2), mar=c(1,1,1,1))
for(layout in layouts){
print(layout)
l <- do.call(layout, list(net))
plot(net, edge.arrow.mode=0, layout=l, main=layout)
}
V(net)$community <- gr$membership
colrs <- adjustcolor(sample(colors(distinct = TRUE),11), alpha=.6)
plot(net,
vertex.color=colrs[V(net)$community],
vertex.label = NA)
dist.from.Left <- igraph::distances(net, v=V(net)[aType=="Left"], to=V(net), weights=NA)
oranges<-colorRampPalette(c("darkred", "gold"))
col<-oranges(max(dist.from.Left)+1)
col<-col[dist.from.Left+1]
plot(net,
vertex.color=col,
vertex.label.color = "black")
right.path<-shortest_paths(net,
from=V(net)[aType=="Left"],
to=V(net)[aType=="Right"],
output="both")
ecol<-rep("gray80",ecount(net))
ecol[unlist(right.path$epath)]<-"orange" #color edges
ew<-rep(2,ecount(net))
ew[unlist(right.path$epath)]<-4  #size
vcol<-rep("gray40",vcount(net))
vcol[unlist(right.path$vpath)]<-"gold" #color vertices
plot(net,
vertex.color=vcol,
edge.color=ecol,
edge.width=ew,edge.arrow.mode=0)
inc.edges <- incident(net, V(net)[aType=="Left"], mode="all") #mode argument ignored for undirected graphs
ecol <- rep("gray80", ecount(net))
ecol[inc.edges] <- "orange"
vcol <- rep("grey40", vcount(net))
vcol[V(net)[aType=="News"]] <- "gold"
plot(net,
vertex.color=vcol,
edge.color=ecol)
neigh.nodes <- neighbors(net, V(net)[aType=="Left"], mode="out")
vcol[neigh.nodes] <- "#ff9d00"
plot(net, vertex.color=vcol)
par(mfrow=c(1,2))
plot(net, mark.groups=c(1,4,5,8), mark.col="#C5E5E7", mark.border=NA)
# Mark multiple groups:
plot(net, mark.groups=list(c(1,4,5,8), c(15:17)), mark.col=c("#C5E5E7","#ECD89A"), mark.border=NA)
#do not run!
tkid <- tkplot(net) #tkid is the id of the tkplot that will open
l <- tkplot.getcoords(tkid) # grab the coordinates from tkplot
plot(net, layout=l)
par(mfrow=c(1,2))
par(mfrow=c(1,2))
plot(net, mark.groups=c(1:20), mark.col="#C5E5E7", mark.border=NA)
gr
membership(gr)
which(membership(gr)==1)
plot(net, mark.groups=which(membership(gr)==1), mark.col="#C5E5E7", mark.border=NA)
# Mark multiple groups:
plot(net, mark.groups=list(which(membership(gr)==1), which(membership(gr)==2)), mark.col=c("#C5E5E7","#ECD89A"), mark.border=NA)
neigh.nodes <- neighbors(net, V(net)[aType=="Left"], mode="out")
vcol[neigh.nodes] <- "#ff9d00"
plot(net, vertex.color=vcol)
vcol
V(net)$better_gr = groupL
knitr::opts_chunk$set(echo = T, fig.align = "center", out.width = '80%', warning = F, message = F)
rm(list = ls())
#load("Lab02/lab02.RData")
load("../Lab02/lab02.RData")
library(igraph)
library(ggraph)
par(mfrow = c(1,1))
plot(net)
knitr::opts_chunk$set(echo = T, fig.align = "center", out.width = '80%', warning = F, message = F)
rm(list = ls())
#load("Lab02/lab02.RData")
load("../Lab02/lab02.RData")
library(igraph)
library(ggraph)
par(mfrow = c(1,1))
plot(net)
